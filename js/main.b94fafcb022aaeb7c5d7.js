(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"8Lv4":function(e,t,n){var s=n("N5i1");"string"==typeof s&&(s=[[e.i,s,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(s,o);s.locals&&(e.exports=s.locals)},N5i1:function(e,t,n){},Vtdi:function(e,t,n){"use strict";n.r(t);var s=n("v5Mq");function o(e,t,n,o){const r=[];for(let i=o-1;i>=0;i--)for(let a=0;a<o;a++){const o=a*n-t/2+n/2,c=i*n-t/2+n/2,l=u(e.add(new s.Vector3(o,c,0)),n);r.push(l)}return r.flat()}function r(e,t,n,o){const r=[];for(let i=o-1;i>=0;i--)for(let a=o-1;a>=0;a--){const o=a*n-t/2+n/2,c=i*n-t/2+n/2,l=f(e.add(new s.Vector3(o,c,0)),n);r.push(l)}return r.flat()}function i(e,t,n,o){const r=[];for(let i=o-1;i>=0;i--)for(let a=0;a<o;a++){const o=a*n-t/2+n/2,c=i*n-t/2+n/2,l=h(e.add(new s.Vector3(o,0,c)),n);r.push(l)}return r.flat()}function a(e,t,n,o){const r=[];for(let i=0;i<o;i++)for(let a=0;a<o;a++){const o=a*n-t/2+n/2,c=i*n-t/2+n/2,l=d(e.add(new s.Vector3(o,0,c)),n);r.push(l)}return r.flat()}function c(e,t,n,o){const r=[];for(let i=o-1;i>=0;i--)for(let a=0;a<o;a++){const o=a*n-t/2+n/2,c=i*n-t/2+n/2,l=w(e.add(new s.Vector3(0,c,o)),n);r.push(l)}return r.flat()}function l(e,t,n,o){const r=[];for(let i=o-1;i>=0;i--)for(let a=o-1;a>=0;a--){const o=a*n-t/2+n/2,c=i*n-t/2+n/2,l=p(e.add(new s.Vector3(0,c,o)),n);r.push(l)}return r.flat()}function u(e,t){const n=e.x,s=e.y,o=e.z,r=t/2;return[n,s,o,n-r,s+r,o,n-r,s,o,n,s,o,n,s+r,o,n-r,s+r,o,n,s,o,n+r,s+r,o,n,s+r,o,n,s,o,n+r,s,o,n+r,s+r,o,n,s,o,n+r,s-r,o,n+r,s,o,n,s,o,n,s-r,o,n+r,s-r,o,n,s,o,n-r,s-r,o,n,s-r,o,n,s,o,n-r,s,o,n-r,s-r,o]}function f(e,t){const n=e.x,s=e.y,o=e.z,r=t/2;return[n,s,o,n+r,s+r,o,n+r,s,o,n,s,o,n,s+r,o,n+r,s+r,o,n,s,o,n-r,s+r,o,n,s+r,o,n,s,o,n-r,s,o,n-r,s+r,o,n,s,o,n-r,s-r,o,n-r,s,o,n,s,o,n,s-r,o,n-r,s-r,o,n,s,o,n+r,s-r,o,n,s-r,o,n,s,o,n+r,s,o,n+r,s-r,o]}function h(e,t){const n=e.x,s=e.y,o=e.z,r=t/2;return[n,s,o,n-r,s,o+r,n-r,s,o,n,s,o,n,s,o+r,n-r,s,o+r,n,s,o,n+r,s,o+r,n,s,o+r,n,s,o,n+r,s,o,n+r,s,o+r,n,s,o,n+r,s,o-r,n+r,s,o,n,s,o,n,s,o-r,n+r,s,o-r,n,s,o,n-r,s,o-r,n,s,o-r,n,s,o,n-r,s,o,n-r,s,o-r]}function d(e,t){const n=e.x,s=e.y,o=e.z,r=t/2;return[n,s,o,n-r,s,o-r,n-r,s,o,n,s,o,n,s,o-r,n-r,s,o-r,n,s,o,n+r,s,o-r,n,s,o-r,n,s,o,n+r,s,o,n+r,s,o-r,n,s,o,n+r,s,o+r,n+r,s,o,n,s,o,n,s,o+r,n+r,s,o+r,n,s,o,n-r,s,o+r,n,s,o+r,n,s,o,n-r,s,o,n-r,s,o+r]}function w(e,t){const n=e.x,s=e.y,o=e.z,r=t/2;return[n,s,o,n,s+r,o-r,n,s,o-r,n,s,o,n,s+r,o,n,s+r,o-r,n,s,o,n,s+r,o+r,n,s+r,o,n,s,o,n,s,o+r,n,s+r,o+r,n,s,o,n,s-r,o+r,n,s,o+r,n,s,o,n,s-r,o,n,s-r,o+r,n,s,o,n,s-r,o-r,n,s-r,o,n,s,o,n,s,o-r,n,s-r,o-r]}function p(e,t){const n=e.x,s=e.y,o=e.z,r=t/2;return[n,s,o,n,s+r,o+r,n,s,o+r,n,s,o,n,s+r,o,n,s+r,o+r,n,s,o,n,s+r,o-r,n,s+r,o,n,s,o,n,s,o-r,n,s+r,o-r,n,s,o,n,s-r,o-r,n,s,o-r,n,s,o,n,s-r,o,n,s-r,o-r,n,s,o,n,s-r,o+r,n,s-r,o,n,s,o,n,s,o+r,n,s-r,o+r]}function m(e,t){let n=BABYLON.MeshBuilder.CreateSphere("",{diameter:.2},t);n.position=e;let s=new BABYLON.StandardMaterial("",t);s.diffuseColor=new BABYLON.Color3(1,0,0),n.material=s,n.isPickable=!1,n.checkCollisions=!0,n.applyGravity=!0}class g{constructor(e,t,n,s){this.name=e,this.position=t,this.size=n,this.planet=s,this.mesh=this.createMesh(),this.corners=this.getCorners(this.mesh,this.planet.resolution),this.calcAllVertexPositionsOnce(this.round)}createMesh(){const e=function(e,t,n,u,f){const h=Math.pow(u,2),d=n/u,w=new s.Mesh("",f),p=Array.from(Array(24*h).keys());let m;switch(e){case"Front":m=o;break;case"Back":m=r;break;case"Up":m=i;break;case"Down":m=a;break;case"Right":m=c;break;case"Left":m=l}const g=new s.VertexData;return g.positions=m(t,n,d,u),g.indices=p,g.applyToMesh(w,!0),w}(this.name,this.position,this.size,this.planet.resolution,this.planet.scene);return e.material=this.planet.material,e}getCorners(e,t){const n=e.getVerticesData(BABYLON.VertexBuffer.PositionKind);return[3,24*(t-1)*3+21,t*(t-1)*24*3+57,24*(t-1+t*(t-1))*3+39].map(e=>{const t=n[e],o=n[e+1],r=n[e+2];return new s.Vector3(t,o,r)})}drawCorners(){this.corners.forEach(e=>{m(e,this.planet.scene)})}round(e,t,n,s){const o=e*e/(s*s/4),r=t*t/(s*s/4),i=n*n/(s*s/4);return[s/2*e*Math.sqrt(1-r/2-i/2+r*i/3),s/2*t*Math.sqrt(1-i/2-o/2+i*o/3),s/2*n*Math.sqrt(1-o/2-r/2+o*r/3)]}figureCalcFunction(){switch(this.name){case"Front":return(e,t,n)=>[e,t,n-2];case"Back":return(e,t,n)=>[e,t,n+2];case"Up":return(e,t,n)=>[e,t+2,n];case"Down":return(e,t,n)=>[e,t-2,n];case"Right":return(e,t,n)=>[e+2,t,n];case"Left":return(e,t,n)=>[e-2,t,n]}}calcAllVertexPositionsOnce(e){const t=this.mesh.getVerticesData(BABYLON.VertexBuffer.PositionKind),n=this.planet.resolution,s=2*n+1;for(let o=0;o<s;o++)for(let r=0;r<s;r++){let i=[];const a=0==r||r==s-1,c=0==o||o==s-1,l=r%2==0,u=o%2==0;if(a||c)if(a&&c)if(0==r&&0==o)i=[3,15];else if(r==s-1&&0==o){const e=24*(n-1)*3;i=[e+21,e+33]}else if(0==r&&o==s-1){const e=n*(n-1)*24*3;i=[e+57,e+69]}else{const e=24*(n-1+n*(n-1))*3;i=[e+39,e+51]}else if(a&&!c)if(0==r)if(u){const e=n*(o/2-1)*24*3,t=n*(o/2)*24*3;i=[e+57,e+69,t+3,t+15]}else{const e=n*((o+1)/2-1)*24*3;i=[e+6,e+66]}else if(u){const e=24*(n-1+n*(o/2-1))*3,t=24*(n-1+n*(o/2))*3;i=[e+39,e+51,t+21,t+33]}else{const e=24*(n-1+n*((o+1)/2-1))*3;i=[e+30,e+42]}else if(0==o)if(l){const e=24*(r/2-1)*3,t=r/2*24*3;i=[e+21,e+33,t+3,t+15]}else{const e=24*((r+1)/2-1)*3;i=[e+12,e+24]}else if(l){const e=24*(r/2-1+n*(n-1))*3,t=24*(r/2+n*(n-1))*3;i=[e+39,e+51,t+57,t+69]}else{const e=24*((r+1)/2-1+n*(n-1))*3;i=[e+48,e+60]}else if(l&&u){const e=24*(r/2-1+n*(o/2-1))*3,t=24*(r/2+n*(o/2-1))*3,s=24*(r/2-1+n*(o/2))*3,a=24*(r/2+n*(o/2))*3;i=[e+39,e+51,t+57,t+69,s+21,s+33,a+3,a+15]}else if(l&&!u){const e=24*(r/2-1+n*((o+1)/2-1))*3,t=24*(r/2+n*((o+1)/2-1))*3;i=[e+30,e+42,t+6,t+66]}else if(!l&&u){const e=24*((r+1)/2-1+n*(o/2-1))*3,t=24*((r+1)/2-1+n*(o/2))*3;i=[e+48,e+60,t+12,t+24]}else{const e=24*((r+1)/2-1+n*((o+1)/2-1))*3;i=[e,e+9,e+18,e+27,e+36,e+45,e+54,e+63]}const f=i[0],h=e(t[f],t[f+1],t[f+2],this.size);i.forEach(e=>{t[e]=h[0],t[e+1]=h[1],t[e+2]=h[2]})}this.mesh.updateVerticesData(BABYLON.VertexBuffer.PositionKind,t),this.mesh.refreshBoundingInfo(!0)}}var x=n("G9zD");function B(e,t){const n=new x.g("metal",e);return n.reflectionTexture=e.environmentTexture,n.microSurface=.96,n.reflectivityColor=t||new x.a(.85,.85,.85),n.albedoColor=new x.a(.01,.01,.01),n}function y(e,t){const n=new x.g("plastic",e);return n.reflectionTexture=e.environmentTexture,n.microSurface=.96,n.albedoColor=t||new x.a(.206,.94,1),n.reflectivityColor=new x.a(.003,.003,.003),n}class v{constructor(e,t,n,s){this.size=n,this.resolution=s,this.position=t,this.scene=e,this.material=function(e,t){const n=new x.g("glass",e);return n.reflectionTexture=e.environmentTexture,n.refractionTexture=e.environmentTexture,n.linkRefractionWithTransparency=!0,n.indexOfRefraction=.52,n.alpha=0,n.microSurface=1,n.reflectivityColor=new x.a(.2,.2,.2),n.albedoColor=t||new x.a(.3,1,.3),n}(e,new BABYLON.Color3(.3,.2,1)),this.nodes=[]}createSides(){[["Up",this.position.add(new s.Vector3(0,this.size/2,0))],["Down",this.position.add(new s.Vector3(0,-this.size/2,0))],["Front",this.position.add(new s.Vector3(0,0,-this.size/2))],["Back",this.position.add(new s.Vector3(0,0,this.size/2))],["Right",this.position.add(new s.Vector3(this.size/2,0,0))],["Left",this.position.add(new s.Vector3(-this.size/2,0,0))]].forEach(e=>{const t=new g(e[0],e[1],this.size,this);this.nodes.push(t)})}}var b=n("VfJ7"),V=n("GR64");const C=4,k=10,L=new x.k(0,0,0);function z(){const e=document.getElementById("renderCanvas"),t=new x.c(e,!0),n=new x.h(t);new x.d("light1",new x.k(0,1,0),n);return function(e,t){const n=new b.a("Camera",0,0,0,new V.x(0,0,0),e);return n.setPosition(new V.x(0,40,-170)),n.allowUpsideDown=!1,n.lowerRadiusLimit=t+2,n.angularSensibilityX=2e3,n.angularSensibilityy=2e3,n}(n,k).attachControl(e,!1),function(e){var t=x.b.CreateFromPrefilteredData("https://assets.babylonjs.com/environments/environmentSpecular.env",e);e.environmentTexture=t,e.imageProcessingConfiguration.exposure=.6,e.imageProcessingConfiguration.contrast=1.6;var n=x.f.CreateBox("hdrSkyBox",1e3,e),s=new x.g("skyBox",e);s.backFaceCulling=!1,s.reflectionTexture=t.clone(),s.reflectionTexture.coordinatesMode=x.j.SKYBOX_MODE,s.microSurface=.3,s.disableLighting=!0,n.material=s,n.infiniteDistance=!0}(n),m(L,n),n.glassMaterials=[B(n,new x.a(1,.1,.1)),y(n,new x.a(.3,1,.3)),y(n,new x.a(.3,1,1)),B(n,new x.a(.3,.2,1))],n.planet=new v(n,L,k,C),n.planet.createSides(),n.registerBeforeRender(function(){}),t.runRenderLoop(function(){n.render()}),window.addEventListener("resize",function(){t.resize()}),n}n("8Lv4");window.addEventListener("DOMContentLoaded",function(){!function(e){let t=!1,n=!1;e.onKeyboardObservable.add(s=>{switch(s.type){case x.e.KEYDOWN:switch(s.event.key){case"w":case"W":t=!t,e.materials.forEach(e=>{e.wireframe=t});break;case"b":case"B":n=!n,e.meshes.forEach(e=>{e.showBoundingBox=n});break;case"I":case"i":e.debugLayer.isVisible()?e.debugLayer.hide():e.debugLayer.show()}}})}(z())})}},[["Vtdi",1,2]]]);