(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"8Lv4":function(e,t,n){var o=n("N5i1");"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(o,r);o.locals&&(e.exports=o.locals)},N5i1:function(e,t,n){},Vtdi:function(e,t,n){"use strict";n.r(t);var o=n("v5Mq");function r(e,t,n,r){const i=[];for(let s=r-1;s>=0;s--)for(let a=0;a<r;a++){const r=a*n-t/2+n/2,c=s*n-t/2+n/2,l=u(e.add(new o.Vector3(r,c,0)),n);i.push(l)}return i.flat()}function i(e,t,n,r){const i=[];for(let s=r-1;s>=0;s--)for(let a=r-1;a>=0;a--){const r=a*n-t/2+n/2,c=s*n-t/2+n/2,l=f(e.add(new o.Vector3(r,c,0)),n);i.push(l)}return i.flat()}function s(e,t,n,r){const i=[];for(let s=r-1;s>=0;s--)for(let a=0;a<r;a++){const r=a*n-t/2+n/2,c=s*n-t/2+n/2,l=h(e.add(new o.Vector3(r,0,c)),n);i.push(l)}return i.flat()}function a(e,t,n,r){const i=[];for(let s=0;s<r;s++)for(let a=0;a<r;a++){const r=a*n-t/2+n/2,c=s*n-t/2+n/2,l=d(e.add(new o.Vector3(r,0,c)),n);i.push(l)}return i.flat()}function c(e,t,n,r){const i=[];for(let s=r-1;s>=0;s--)for(let a=0;a<r;a++){const r=a*n-t/2+n/2,c=s*n-t/2+n/2,l=w(e.add(new o.Vector3(0,c,r)),n);i.push(l)}return i.flat()}function l(e,t,n,r){const i=[];for(let s=r-1;s>=0;s--)for(let a=r-1;a>=0;a--){const r=a*n-t/2+n/2,c=s*n-t/2+n/2,l=p(e.add(new o.Vector3(0,c,r)),n);i.push(l)}return i.flat()}function u(e,t){const n=e.x,o=e.y,r=e.z,i=t/2;return[n,o,r,n-i,o+i,r,n-i,o,r,n,o,r,n,o+i,r,n-i,o+i,r,n,o,r,n+i,o+i,r,n,o+i,r,n,o,r,n+i,o,r,n+i,o+i,r,n,o,r,n+i,o-i,r,n+i,o,r,n,o,r,n,o-i,r,n+i,o-i,r,n,o,r,n-i,o-i,r,n,o-i,r,n,o,r,n-i,o,r,n-i,o-i,r]}function f(e,t){const n=e.x,o=e.y,r=e.z,i=t/2;return[n,o,r,n+i,o+i,r,n+i,o,r,n,o,r,n,o+i,r,n+i,o+i,r,n,o,r,n-i,o+i,r,n,o+i,r,n,o,r,n-i,o,r,n-i,o+i,r,n,o,r,n-i,o-i,r,n-i,o,r,n,o,r,n,o-i,r,n-i,o-i,r,n,o,r,n+i,o-i,r,n,o-i,r,n,o,r,n+i,o,r,n+i,o-i,r]}function h(e,t){const n=e.x,o=e.y,r=e.z,i=t/2;return[n,o,r,n-i,o,r+i,n-i,o,r,n,o,r,n,o,r+i,n-i,o,r+i,n,o,r,n+i,o,r+i,n,o,r+i,n,o,r,n+i,o,r,n+i,o,r+i,n,o,r,n+i,o,r-i,n+i,o,r,n,o,r,n,o,r-i,n+i,o,r-i,n,o,r,n-i,o,r-i,n,o,r-i,n,o,r,n-i,o,r,n-i,o,r-i]}function d(e,t){const n=e.x,o=e.y,r=e.z,i=t/2;return[n,o,r,n-i,o,r-i,n-i,o,r,n,o,r,n,o,r-i,n-i,o,r-i,n,o,r,n+i,o,r-i,n,o,r-i,n,o,r,n+i,o,r,n+i,o,r-i,n,o,r,n+i,o,r+i,n+i,o,r,n,o,r,n,o,r+i,n+i,o,r+i,n,o,r,n-i,o,r+i,n,o,r+i,n,o,r,n-i,o,r,n-i,o,r+i]}function w(e,t){const n=e.x,o=e.y,r=e.z,i=t/2;return[n,o,r,n,o+i,r-i,n,o,r-i,n,o,r,n,o+i,r,n,o+i,r-i,n,o,r,n,o+i,r+i,n,o+i,r,n,o,r,n,o,r+i,n,o+i,r+i,n,o,r,n,o-i,r+i,n,o,r+i,n,o,r,n,o-i,r,n,o-i,r+i,n,o,r,n,o-i,r-i,n,o-i,r,n,o,r,n,o,r-i,n,o-i,r-i]}function p(e,t){const n=e.x,o=e.y,r=e.z,i=t/2;return[n,o,r,n,o+i,r+i,n,o,r+i,n,o,r,n,o+i,r,n,o+i,r+i,n,o,r,n,o+i,r-i,n,o+i,r,n,o,r,n,o,r-i,n,o+i,r-i,n,o,r,n,o-i,r-i,n,o,r-i,n,o,r,n,o-i,r,n,o-i,r-i,n,o,r,n,o-i,r+i,n,o-i,r,n,o,r,n,o,r+i,n,o-i,r+i]}function m(e,t){let n=BABYLON.MeshBuilder.CreateSphere("",{diameter:.2},t);n.position=e;let o=new BABYLON.StandardMaterial("",t);o.diffuseColor=new BABYLON.Color3(1,0,0),n.material=o,n.isPickable=!1,n.checkCollisions=!0,n.applyGravity=!0}class g{constructor(e,t,n,o){this.name=e,this.position=t,this.size=n,this.planet=o,this.mesh=this.createMesh(),this.corners=this.getCorners(this.mesh,this.planet.resolution),this.calcAllVertexPositionsOnce(this.figureCalcFunction())}createMesh(){const e=function(e,t,n,u,f){const h=Math.pow(u,2),d=n/u,w=new o.Mesh("",f),p=Array.from(Array(24*h).keys());let m;switch(e){case"Front":m=r;break;case"Back":m=i;break;case"Up":m=s;break;case"Down":m=a;break;case"Right":m=c;break;case"Left":m=l}const g=new o.VertexData;return g.positions=m(t,n,d,u),g.indices=p,g.applyToMesh(w,!0),w}(this.name,this.position,this.size,this.planet.resolution,this.planet.scene);return e.material=this.planet.material,e}getCorners(e,t){const n=e.getVerticesData(BABYLON.VertexBuffer.PositionKind);return[3,24*(t-1)*3+21,t*(t-1)*24*3+57,24*(t-1+t*(t-1))*3+39].map(e=>{const t=n[e],r=n[e+1],i=n[e+2];return new o.Vector3(t,r,i)})}drawCorners(){this.corners.forEach(e=>{m(e,this.planet.scene)})}figureCalcFunction(){switch(this.name){case"Front":return(e,t,n)=>[e,t,n-2];case"Back":return(e,t,n)=>[e,t,n+2];case"Up":return(e,t,n)=>[e,t+2,n];case"Down":return(e,t,n)=>[e,t-2,n];case"Right":return(e,t,n)=>[e+2,t,n];case"Left":return(e,t,n)=>[e-2,t,n]}}calcAllVertexPositionsOnce(e){console.log(this.name),console.log(e);const t=this.mesh.getVerticesData(BABYLON.VertexBuffer.PositionKind),n=this.planet.resolution,o=2*n+1;for(let r=0;r<o-1;r++)for(let i=0;i<o-1;i++){let s=[];const a=0==r||r==o,c=i%2==0,l=r%2==0;if(0==i||i==o||a);else if(c&&l){const e=24*(i/2-1+n*(r/2-1))*3,t=24*(i/2+n*(r/2-1))*3,o=24*(i/2-1+n*(r/2))*3,a=24*(i/2+n*(r/2))*3;s=[e+39,e+51,t+57,t+69,o+21,o+33,a+3,a+15]}else if(c&&!l);else if(!c&&l);else if(!c&&!l){const e=24*((i+1)/2-1+n*((r+1)/2-1))*3;s=[e,e+9,e+18,e+27,e+36,e+45,e+54,e+63]}const u=s[0],f=e(t[u],t[u+1],t[u+2]);s.forEach(e=>{t[e]=f[0],t[e+1]=f[1],t[e+2]=f[2]})}this.mesh.updateVerticesData(BABYLON.VertexBuffer.PositionKind,t),this.mesh.refreshBoundingInfo(!0)}}var x=n("G9zD");function B(e,t){const n=new x.g("metal",e);return n.reflectionTexture=e.environmentTexture,n.microSurface=.96,n.reflectivityColor=t||new x.a(.85,.85,.85),n.albedoColor=new x.a(.01,.01,.01),n}function y(e,t){const n=new x.g("plastic",e);return n.reflectionTexture=e.environmentTexture,n.microSurface=.96,n.albedoColor=t||new x.a(.206,.94,1),n.reflectivityColor=new x.a(.003,.003,.003),n}class v{constructor(e,t,n,o){this.size=n,this.resolution=o,this.position=t,this.scene=e,this.material=function(e,t){const n=new x.g("glass",e);return n.reflectionTexture=e.environmentTexture,n.refractionTexture=e.environmentTexture,n.linkRefractionWithTransparency=!0,n.indexOfRefraction=.52,n.alpha=0,n.microSurface=1,n.reflectivityColor=new x.a(.2,.2,.2),n.albedoColor=t||new x.a(.3,1,.3),n}(e,new BABYLON.Color3(.3,.2,1)),this.nodes=[]}createSides(){[["Up",this.position.add(new o.Vector3(0,this.size/2,0))],["Down",this.position.add(new o.Vector3(0,-this.size/2,0))],["Front",this.position.add(new o.Vector3(0,0,-this.size/2))],["Back",this.position.add(new o.Vector3(0,0,this.size/2))],["Right",this.position.add(new o.Vector3(this.size/2,0,0))],["Left",this.position.add(new o.Vector3(-this.size/2,0,0))]].forEach(e=>{const t=new g(e[0],e[1],this.size,this);this.nodes.push(t)})}}var b=n("VfJ7"),V=n("GR64");const C=4,k=20,L=new x.k(0,0,0);function z(){const e=document.getElementById("renderCanvas"),t=new x.c(e,!0),n=new x.h(t);new x.d("light1",new x.k(0,1,0),n);return function(e,t){const n=new b.a("Camera",0,0,0,new V.x(0,0,0),e);return n.setPosition(new V.x(0,40,-170)),n.allowUpsideDown=!1,n.lowerRadiusLimit=t+2,n.angularSensibilityX=2e3,n.angularSensibilityy=2e3,n}(n,k).attachControl(e,!1),function(e){var t=x.b.CreateFromPrefilteredData("https://assets.babylonjs.com/environments/environmentSpecular.env",e);e.environmentTexture=t,e.imageProcessingConfiguration.exposure=.6,e.imageProcessingConfiguration.contrast=1.6;var n=x.f.CreateBox("hdrSkyBox",1e3,e),o=new x.g("skyBox",e);o.backFaceCulling=!1,o.reflectionTexture=t.clone(),o.reflectionTexture.coordinatesMode=x.j.SKYBOX_MODE,o.microSurface=.3,o.disableLighting=!0,n.material=o,n.infiniteDistance=!0}(n),m(L,n),n.glassMaterials=[B(n,new x.a(1,.1,.1)),y(n,new x.a(.3,1,.3)),y(n,new x.a(.3,1,1)),B(n,new x.a(.3,.2,1))],n.planet=new v(n,L,k,C),n.planet.createSides(),n.registerBeforeRender(function(){}),t.runRenderLoop(function(){n.render()}),window.addEventListener("resize",function(){t.resize()}),n}n("8Lv4");window.addEventListener("DOMContentLoaded",function(){!function(e){let t=!1,n=!1;e.onKeyboardObservable.add(o=>{switch(o.type){case x.e.KEYDOWN:switch(o.event.key){case"w":case"W":t=!t,e.materials.forEach(e=>{e.wireframe=t});break;case"b":case"B":n=!n,e.meshes.forEach(e=>{e.showBoundingBox=n});break;case"I":case"i":e.debugLayer.isVisible()?e.debugLayer.hide():e.debugLayer.show()}}})}(z())})}},[["Vtdi",1,2]]]);